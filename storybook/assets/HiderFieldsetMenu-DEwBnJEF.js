import{j as t}from"./jsx-runtime-Cf8x2fCZ.js";import{M as n}from"./MenuTitle-B_OAahsS.js";import{F as l}from"./Fieldset-j6uOD0PW.js";import{T as v}from"./TierSelect-DgzN0DlO.js";import{T as S}from"./Text-Bm9VDKPH.js";import{P as O}from"./ProblemTagLockTimer-C7IP3aK-.js";import{r as s}from"./index--qcDGAq6.js";import{h as w}from"./hidden-tier-badge-CukGKv-l.js";import{S as d}from"./commands-BoKETmK5.js";import{c as j}from"./defaultValues-BGh_tAG0.js";import{i as f}from"./hiderOptionsValidator-CGMdHXNl.js";import{d as H}from"./styled-components.browser.esm-CIS6JKSM.js";const U=i=>s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 16 16",...i},s.createElement("path",{fillRule:"evenodd",d:"M4.48 7.27c.26.26 1.28 1.33 1.28 1.33l.56-.58l-.88-.91l1.69-1.8s-.76-.74-.43-.45c.32-1.19.03-2.51-.87-3.44C4.93.5 3.66.2 2.52.51l1.93 2l-.51 1.96l-1.89.52l-1.93-2C-.19 4.17.1 5.48 1 6.4c.94.98 2.29 1.26 3.48.87zm6.44 1.94l-2.33 2.3l3.84 3.98c.31.33.73.49 1.14.49c.41 0 .82-.16 1.14-.49c.63-.65.63-1.7 0-2.35l-3.79-3.93zM16 2.53L13.55 0L6.33 7.46l.88.91l-4.31 4.46l-.99.53l-1.39 2.27l.35.37l2.2-1.44l.51-1.02L7.9 9.08l.88.91L16 2.53z",fill:"currentColor"})),R=async()=>{const a=(await browser.storage.local.get(d.HIDER_OPTIONS))[d.HIDER_OPTIONS];return f(a)?a:j},P=i=>{f(i)&&browser.storage.local.set({[d.HIDER_OPTIONS]:i})},E={problemTagLockDuration:{hours:0,minutes:0},shouldHideTier:void 0,shouldWarnHighTier:void 0,shouldRevealTierOnHover:void 0,warnTier:1,algorithmHiderUsage:void 0,problemTagLockUsage:void 0},W=()=>{const[i,a]=s.useState({...E,isLoaded:!1});return s.useEffect(()=>{(async()=>{const e=await R();a({...e,isLoaded:!0})})()},[]),s.useEffect(()=>{const{isLoaded:e,...r}=i;e&&P(r)},[i]),{...i,updateProblemTagLockDuration:(e,r)=>{a(o=>o.isLoaded?{...o,problemTagLockDuration:{hours:e,minutes:r}}:o)},updateShouldHideTier:e=>{const r=e==="true";a(o=>o.isLoaded?{...o,shouldHideTier:r}:o)},updateShouldWarnHighTier:e=>{const r=e==="true";a(o=>o.isLoaded?{...o,shouldWarnHighTier:r}:o)},updateShouldRevealTierOnHover:e=>{const r=e==="true";a(o=>o.isLoaded?{...o,shouldRevealTierOnHover:r}:o)},updateWarnTier:e=>{a(r=>r.isLoaded?{...r,warnTier:e}:r)},updateAlgorithmHiderUsage:e=>{e!=="click"&&e!=="always"||a(r=>r.isLoaded?{...r,algorithmHiderUsage:e}:r)},updateProblemTagLockUsage:e=>{e!=="click"&&e!=="auto"||a(r=>r.isLoaded?{...r,problemTagLockUsage:e}:r)}}},C=H.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  flex-shrink: 0;
  row-gap: 14px;
  position: relative;

  width: 340px;
  height: auto;
`,D=H.div`
  display: flex;
  align-items: center;
  column-gap: 6px;
`,Y=()=>{const{problemTagLockDuration:i,shouldHideTier:a,shouldWarnHighTier:u,shouldRevealTierOnHover:c,warnTier:g,algorithmHiderUsage:h,problemTagLockUsage:m,updateProblemTagLockDuration:T,updateShouldHideTier:p,updateShouldWarnHighTier:e,updateShouldRevealTierOnHover:r,updateWarnTier:o,updateAlgorithmHiderUsage:L,updateProblemTagLockUsage:b}=W(),{hours:x,minutes:k}=i;return t.jsxs(C,{children:[t.jsx(n,{title:"잠금 시간 설정",iconSrc:browser.runtime.getURL("/lock.png")}),t.jsx(O,{hours:x,minutes:k,onChange:T}),t.jsx(n,{title:"티어 가리개 설정",iconSrc:w}),t.jsx(l,{legend:"맞추지 않은 문제의 난이도 숨기기",name:"shouldHideTier",options:[{label:"숨기기",value:"true"},{label:"숨기지 않기",value:"false"}],checkedValue:a?"true":a===void 0?"":"false",onChange:p}),t.jsx(l,{legend:"어려운 문제 경고",name:"shouldWarnHighTier",isVertical:!0,disabled:!a,options:[{label:"사용하지 않음",value:"false"},{label:t.jsxs(D,{children:[t.jsx(v,{selectedTier:g,onChange:o}),t.jsx(S,{type:"semiPrimary",fontSize:16,children:"이상 난이도일 경우 경고"})]}),value:"true"}],checkedValue:u?"true":"false",onChange:e}),t.jsx(l,{legend:"티어 아이콘에 마우스를 올릴 경우 난이도 공개하기",name:"shouldRevealTierOnHover",disabled:!a,options:[{label:"공개",value:"true"},{label:"공개하지 않음",value:"false"}],checkedValue:c?"true":"false",onChange:r}),t.jsx(n,{title:"기본 설정",iconSrc:t.jsx(U,{})}),t.jsx(l,{legend:"알고 있는 알고리즘만으로 문제를 풀 수 있는지의 여부 공개 방법",name:"algorithmHiderUsage",options:[{label:"클릭하여 공개",value:"click"},{label:"항상 공개",value:"always"}],checkedValue:h??"",onChange:L}),t.jsx(l,{legend:"알고리즘 분류 잠금 방법",name:"problemTagLockUsage",options:[{label:"클릭하여 잠금",value:"click"},{label:"자동으로 잠금",value:"auto"}],checkedValue:m??"",onChange:b})]})};export{Y as H};
