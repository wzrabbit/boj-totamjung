import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{t as q}from"./theme-DpyODYgC.js";import{M as N,a as Q}from"./Modal-Cac1K4CQ.js";import{I as v}from"./IconButton-Cuc1o0yv.js";import{T as p}from"./Text-CCW1h-Yj.js";import{T as R}from"./TextLink-B35u5JYr.js";import{I as H}from"./Input-BdGorGGB.js";import{E as z}from"./ErrorText-DEoOg6NU.js";import{r}from"./index--qcDGAq6.js";import{T as _,M as I}from"./randomDefense-DE7lwrZG.js";import{S as L}from"./close-circle-Dx72CTk1.js";import{S as w}from"./check-circle-B-abXz3w.js";import{d as j}from"./styled-components.browser.esm-CIS6JKSM.js";import{Q as k}from"./QueryInput-oO_XaRaZ.js";const A=(o,t)=>o.length>_?{isValid:!1,errorMessage:`추첨 이름의 길이가 너무 길어요. ${_}자 이하가 되도록 줄여 주세요.`,focusElementName:"title"}:t.trim()===""?{isValid:!1,errorMessage:"쿼리는 비워둘 수 없어요. 쿼리를 입력해 주세요.",focusElementName:"query"}:t.length>I?{isValid:!1,errorMessage:`쿼리의 길이가 너무 길어요. ${I}자 이하가 되도록 줄여 주세요.`,focusElementName:"query"}:{isValid:!0},G=o=>{const{initTitle:t,initQuery:i,onSlotChange:x}=o,[s,a]=r.useState(t),[l,u]=r.useState(i),[h,n]=r.useState(""),[c,m]=r.useState(void 0),d=r.useRef(null),f=r.useRef(null);return r.useEffect(()=>{a(t),u(i),n(""),m(void 0)},[t,i]),{title:s,query:l,errorMessage:h,isTitleElementHasErrors:c==="title",isQueryElementHasErrors:c==="query",setQuery:u,setTitle:a,submitSlotInfo:()=>{const y=A(s,l);if(y.isValid){x(s,l),n("");return}const E=d.current,g=f.current,{focusElementName:S}=y;S==="title"&&(E==null||E.select()),S==="query"&&(g==null||g.select()),m(S),n(y.errorMessage)},titleRef:d,queryRef:f}},B=j.form`
  display: flex;
  flex-direction: column;
  row-gap: 12px;

  width: 600px;
  max-width: 100%;
  height: 320px;
`,b=j.label`
  display: flex;
  flex-direction: column;
  row-gap: 6px;
`,O=j.div`
  display: flex;
  flex-direction: column;
  row-gap: 5px;
`,V=o=>{const{title:t,query:i,open:x,onClose:s,onSlotChange:a}=o,{title:l,query:u,errorMessage:h,isTitleElementHasErrors:n,isQueryElementHasErrors:c,setQuery:m,setTitle:d,submitSlotInfo:f,titleRef:T,queryRef:C}=G({initTitle:t,initQuery:i,onSlotChange:a});return e.jsxs(N,{title:"추첨 수정",open:x,onClose:s,closeOnBackdropClick:!1,children:[e.jsxs(B,{children:[e.jsxs(b,{children:[e.jsx(p,{type:"primary",fontSize:16,children:"추첨 이름"}),e.jsx(H,{type:"text",width:"100%",height:"30px",name:"title",value:l,ref:T,textAlign:"left",maxLength:30,placeholder:"0 ~ 30자",hasError:n,"aria-label":"새로운 추첨 이름을 입력해주세요",onChange:M=>{d(M.target.value)}})]}),e.jsxs(b,{children:[e.jsx(p,{type:"primary",fontSize:16,children:"쿼리"}),e.jsx(k,{width:"100%",height:"150px",value:u,ref:C,hasError:c,placeholder:"새로운 쿼리를 입력해주세요",onChange:m})]}),e.jsxs(O,{children:[e.jsxs(p,{type:"normal",fontSize:14,children:[e.jsx(R,{href:"https://solved.ac/search",fontSize:14,children:"solved.ac 문제 고급 검색"})," ","페이지를 통해 solved.ac 검색 쿼리 작성법을 확인하실 수 있습니다!"]}),e.jsx(p,{type:"normal",fontSize:14,children:"추첨은 비로그인 상태에서 진행되므로, 솔브드 프로 플랜 전용 쿼리는 사용하실 수 없습니다."})]}),e.jsx(z,{fontSize:14,errorMessage:h})]}),e.jsxs(Q,{children:[e.jsx(v,{type:"button",name:"취소",size:"medium",iconSrc:e.jsx(L,{}),color:q.color.LIGHT_GRAY,disabled:!1,onClick:s}),e.jsx(v,{type:"button",name:"확인",size:"medium",iconSrc:e.jsx(w,{}),color:q.color.GOLD,disabled:!1,onClick:f})]})]})};try{V.displayName="SlotEditModal",V.__docgenInfo={description:"",displayName:"SlotEditModal",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"string"}},open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onSlotChange:{defaultValue:null,description:"",name:"onSlotChange",required:!0,type:{name:"(title: string, query: string) => void"}}}}}catch{}export{V as S};
