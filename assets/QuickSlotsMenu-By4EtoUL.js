import{j as o}from"./jsx-runtime-Cf8x2fCZ.js";import{d as M}from"./styled-components.browser.esm-CIS6JKSM.js";import{N as P}from"./NamedFrame-D2PEwBHE.js";import{S as H}from"./SlotPagination-BV704-gL.js";import{S as T}from"./SlotInfo-D0aq9shH.js";import{H as _}from"./HotkeySwitcher-brOwUeBo.js";import{I as S}from"./IconButton-B9x6gfbo.js";import{r as f}from"./index--qcDGAq6.js";import{S as z}from"./SlotEditModal-BZrcqxtY.js";import{L as I}from"./Loading-DfWylf4Y.js";import{u as D}from"./useModal-BJrESIr1.js";import{S as Q}from"./trash-JRBuQ8nU.js";import{S as V}from"./copy-BcJBRJXh.js";import{S as G,R}from"./RandomDefenseGachaModal-DLWxeo6S.js";import{t as h}from"./theme-CqSsbPCW.js";import{S as N}from"./SimpleModal-D_HuuXF6.js";import{G as A}from"./GachaProblemCountInputModal-CaZ86SKT.js";const B=n=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 24 24",...n},f.createElement("path",{fill:"currentColor",d:"M5 21q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h8.925l-2 2H5v14h14v-6.95l2-2V19q0 .825-.587 1.413T19 21zm4-6v-4.25l9.175-9.175q.3-.3.675-.45t.75-.15q.4 0 .763.15t.662.45L22.425 3q.275.3.425.663T23 4.4t-.137.738t-.438.662L13.25 15zM21.025 4.4l-1.4-1.4zM11 13h1.4l5.8-5.8l-.7-.7l-.725-.7L11 11.575zm6.5-6.5l-.725-.7zl.7.7z"})),O=M.div`
  display: flex;
  flex-direction: column;
  position: relative;

  width: 100%;
  height: 100%;
`,Y=M.div`
  display: flex;
  column-gap: 10px;

  height: 26px;
  margin-bottom: 12px;
`,F=M.div`
  display: flex;
  justify-content: flex-end;
  column-gap: 8px;

  height: 32px;
  margin-top: 4px;
`,U=[1,2,3,4,5,6,7,8,9,0],$=n=>{const{quickSlotsInfo:y,isLoaded:t,onHotkeyChange:l,onSlotChange:i,onSlotDelete:e,onSlotNoChange:a}=n,{selectedSlotNo:r,slots:d,hotkey:c}=y,[g,u]=f.useState(!1),[x,C]=f.useState(0),E=()=>{if(t){if(c===null){l("Alt");return}if(c==="Alt"){l("F2");return}l(null)}},b=()=>{const s=[];return U.forEach(p=>{d[p].isEmpty||s.push(p)}),s},j=()=>{u(!0)},m=()=>{u(!1)},k=(s,p)=>{if(!t)return;const L=s.trim()===""?`추첨 ${r}`:s;i(L,p),m()},q=()=>{t&&e()},w=s=>{a(s)};return{slot:d[r],selectedSlotNo:r,hotkey:c,occupiedSlotNos:b(),gachaProblemCount:x,shouldEditModalShow:g,switchHotkey:E,openEditModal:j,closeEditModal:m,updateSlot:k,deleteSlot:q,setSelectedSlotNo:w,setGachaProblemCount:C}},v=n=>{const{isLoaded:y}=n,{activeModalName:t,openModal:l,closeModal:i}=D(),{slot:e,selectedSlotNo:a,hotkey:r,occupiedSlotNos:d,shouldEditModalShow:c,gachaProblemCount:g,setSelectedSlotNo:u,switchHotkey:x,openEditModal:C,closeEditModal:E,updateSlot:b,deleteSlot:j,setGachaProblemCount:m}=$(n);return o.jsxs(P,{width:"650px",height:"168px",padding:"10px",title:"퀵 슬롯",children:[y?o.jsxs(O,{children:[o.jsxs(Y,{children:[o.jsx(H,{selectedSlotNo:a,occupiedSlotNos:d,onChange:u}),o.jsx(_,{selectedSlotNo:a,hotkey:r,onClick:x})]}),o.jsx(T,{...e}),o.jsxs(F,{children:[o.jsx(S,{type:"button",name:"쿼리 복사",size:"medium",color:h.color.LIGHT_GRAY,iconSrc:o.jsx(V,{}),disabled:e.isEmpty,ariaLabel:"쿼리 클립보드에 복사하기",onClick:()=>{e.isEmpty||(navigator.clipboard.writeText(e.query),l("copiedQuery"))}}),o.jsx(S,{type:"button",name:"수정",size:"medium",color:h.color.SKY_BLUE,iconSrc:o.jsx(B,{}),disabled:e.isEmpty,ariaLabel:"슬롯 수정하기",onClick:C}),o.jsx(S,{type:"button",name:"삭제",size:"medium",color:h.color.RED,iconSrc:o.jsx(Q,{}),disabled:e.isEmpty,ariaLabel:"슬롯 삭제하기",onClick:()=>{l("confirmDeleteSlot")}}),o.jsx(S,{type:"button",name:"즉석 추첨",size:"medium",color:h.color.PURPLE,iconSrc:o.jsx(G,{}),disabled:e.isEmpty,ariaLabel:"즉석 추첨 진행",onClick:()=>{l("gachaProblemCount")}})]})]}):o.jsx(I,{}),o.jsx(z,{title:e.isEmpty?"":e.title,query:e.isEmpty?"":e.query,open:c,onClose:E,onSlotChange:b}),o.jsx(N,{actionType:"confirm",width:"350px",height:"auto",open:t==="copiedQuery",onClose:i,title:"쿼리 복사 완료",message:"쿼리를 클립보드에 복사했어요!"}),o.jsx(N,{actionType:"yesNo",width:"350px",height:"auto",open:t==="confirmDeleteSlot",onYesSelect:()=>{j(),i()},onNoSelect:i,title:"추첨 삭제 확인",message:`${a}번 슬롯에 저장되어 있는 추첨을 삭제할까요?`}),o.jsx(A,{open:t==="gachaProblemCount",shouldShowHotkeyMessage:!0,onClose:i,onSubmitProblemCount:k=>{m(k),l("gacha")}}),!e.isEmpty&&o.jsx(R,{open:t==="gacha",slot:e,problemCount:g,onClose:i})]})};try{v.displayName="QuickSlotsMenu",v.__docgenInfo={description:"",displayName:"QuickSlotsMenu",props:{quickSlotsInfo:{defaultValue:null,description:"",name:"quickSlotsInfo",required:!0,type:{name:"QuickSlots"}},isLoaded:{defaultValue:null,description:"",name:"isLoaded",required:!0,type:{name:"boolean"}},onHotkeyChange:{defaultValue:null,description:"",name:"onHotkeyChange",required:!0,type:{name:"(hotkey: Hotkey) => void"}},onSlotChange:{defaultValue:null,description:"",name:"onSlotChange",required:!0,type:{name:"(title: string, query: string) => void"}},onSlotDelete:{defaultValue:null,description:"",name:"onSlotDelete",required:!0,type:{name:"() => void"}},onSlotNoChange:{defaultValue:null,description:"",name:"onSlotNoChange",required:!0,type:{name:"(slotNo: SlotNo) => void"}}}}}catch{}export{v as Q};
