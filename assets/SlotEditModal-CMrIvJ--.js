import{j as e}from"./jsx-runtime-DEdD30eg.js";import{t as v}from"./theme-CEW-JCn2.js";import{M as V,a as N}from"./Modal-CnAp5z9P.js";import{I as b}from"./IconButton-DB9afjvp.js";import{T as x}from"./Text-B2xQYZk4.js";import{T as R}from"./TextLink-_llWSx1B.js";import{T as H}from"./Textarea-dOKYE4DH.js";import{I as z}from"./Input-C1KrmhYC.js";import{E as Q}from"./ErrorText-Dysi6BW4.js";import{r}from"./index-RYns6xqu.js";import{T as _,a as h}from"./randomDefense-CSn7TOcu.js";import{S as w}from"./close-circle-Z95a0wyf.js";import{S as A}from"./check-circle-c0jdaR34.js";import{d as C}from"./styled-components.browser.esm-CkAH7aAm.js";const G=(o,t)=>o.length>_?{isValid:!1,errorMessage:`추첨 이름의 길이가 너무 길어요. ${_}자 이하가 되도록 줄여 주세요.`,focusElementName:"title"}:t.trim()===""?{isValid:!1,errorMessage:"쿼리는 비워둘 수 없어요. 쿼리를 입력해 주세요.",focusElementName:"query"}:t.length>h?{isValid:!1,errorMessage:`쿼리의 길이가 너무 길어요. ${h}자 이하가 되도록 줄여 주세요.`,focusElementName:"query"}:{isValid:!0},k=o=>{const{initTitle:t,initQuery:i,onSlotChange:y}=o,[s,a]=r.useState(t),[l,u]=r.useState(i),[g,n]=r.useState(""),[m,c]=r.useState(void 0),d=r.useRef(null),p=r.useRef(null);return r.useEffect(()=>{a(t),u(i),n(""),c(void 0)},[t,i]),{title:s,query:l,errorMessage:g,isTitleElementHasErrors:m==="title",isQueryElementHasErrors:m==="query",setQuery:u,setTitle:a,submitSlotInfo:()=>{const E=G(s,l);if(E.isValid){y(s,l),n("");return}const S=d.current,T=p.current,{focusElementName:j}=E;j==="title"&&(S==null||S.select()),j==="query"&&(T==null||T.select()),c(j),n(E.errorMessage)},titleRef:d,queryRef:p}},$=C.form`
  display: flex;
  flex-direction: column;
  row-gap: 12px;

  width: 600px;
  max-width: 100%;
  height: 320px;
`,L=C.label`
  display: flex;
  flex-direction: column;
  row-gap: 6px;
`,B=C.div`
  display: flex;
  flex-direction: column;
  row-gap: 5px;
`,I=o=>{const{title:t,query:i,open:y,onClose:s,onSlotChange:a}=o,{title:l,query:u,errorMessage:g,isTitleElementHasErrors:n,isQueryElementHasErrors:m,setQuery:c,setTitle:d,submitSlotInfo:p,titleRef:M,queryRef:q}=k({initTitle:t,initQuery:i,onSlotChange:a});return e.jsxs(V,{title:"추첨 수정",open:y,onClose:s,children:[e.jsxs($,{children:[e.jsxs(L,{children:[e.jsx(x,{type:"primary",fontSize:"16px",children:"추첨 이름"}),e.jsx(z,{type:"text",width:"100%",name:"title",value:l,ref:M,textAlign:"left",maxLength:30,placeholder:"0 ~ 30자",hasError:n,ariaLabel:"새로운 추첨 이름을 입력해주세요",onChange:f=>{d(f.target.value)}})]}),e.jsxs(L,{children:[e.jsx(x,{type:"primary",fontSize:"16px",children:"쿼리"}),e.jsx(H,{width:"100%",height:"150px",name:"query",value:u,ref:q,maxLength:h,placeholder:`1 ~ ${h}자`,hasError:m,ariaLabel:"새로운 쿼리를 입력해주세요",onChange:f=>{c(f.target.value)}})]}),e.jsxs(B,{children:[e.jsxs(x,{type:"normal",fontSize:"14px",children:["solved.ac 검색 쿼리 작성법을 모르신다면,"," ",e.jsx(R,{href:"https://solved.ac/search",fontSize:"14px",children:"solved.ac 문제 고급 검색"})," ","페이지를 확인해 보세요!"]}),e.jsx(x,{type:"normal",fontSize:"14px",children:"추첨은 비로그인 상태에서 진행되므로, 서포터 전용 쿼리는 사용할 수 없음에 유의해 주세요."})]}),e.jsx(Q,{fontSize:"14px",errorMessage:g})]}),e.jsxs(N,{children:[e.jsx(b,{type:"button",name:"취소",size:"medium",iconSrc:e.jsx(w,{}),color:v.color.LIGHT_GRAY,disabled:!1,ariaLabel:"취소",onClick:s}),e.jsx(b,{type:"button",name:"확인",size:"medium",iconSrc:e.jsx(A,{}),color:v.color.GOLD,disabled:!1,ariaLabel:"확인",onClick:p})]})]})};try{I.displayName="SlotEditModal",I.__docgenInfo={description:"",displayName:"SlotEditModal",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"string"}},open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onSlotChange:{defaultValue:null,description:"",name:"onSlotChange",required:!0,type:{name:"(title: string, query: string) => void"}}}}}catch{}export{I as S};
