import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{t as v}from"./theme-CqSsbPCW.js";import{M as L,a as N}from"./Modal-JaXjAa2V.js";import{I as _}from"./IconButton-CJ4kdUS9.js";import{T as x}from"./Text-D2wNJgtT.js";import{T as R}from"./TextLink-B35u5JYr.js";import{T as H}from"./Textarea-jv6VaTTH.js";import{I as z}from"./Input-Dv8CBI6y.js";import{E as Q}from"./ErrorText-DEoOg6NU.js";import{r}from"./index--qcDGAq6.js";import{T as b,M as h}from"./randomDefense-BrQ0TErT.js";import{S as w}from"./close-circle-Dx72CTk1.js";import{S as A}from"./check-circle-B-abXz3w.js";import{d as C}from"./styled-components.browser.esm-CIS6JKSM.js";const G=(o,t)=>o.length>b?{isValid:!1,errorMessage:`추첨 이름의 길이가 너무 길어요. ${b}자 이하가 되도록 줄여 주세요.`,focusElementName:"title"}:t.trim()===""?{isValid:!1,errorMessage:"쿼리는 비워둘 수 없어요. 쿼리를 입력해 주세요.",focusElementName:"query"}:t.length>h?{isValid:!1,errorMessage:`쿼리의 길이가 너무 길어요. ${h}자 이하가 되도록 줄여 주세요.`,focusElementName:"query"}:{isValid:!0},k=o=>{const{initTitle:t,initQuery:i,onSlotChange:y}=o,[s,a]=r.useState(t),[l,u]=r.useState(i),[g,n]=r.useState(""),[m,c]=r.useState(void 0),d=r.useRef(null),f=r.useRef(null);return r.useEffect(()=>{a(t),u(i),n(""),c(void 0)},[t,i]),{title:s,query:l,errorMessage:g,isTitleElementHasErrors:m==="title",isQueryElementHasErrors:m==="query",setQuery:u,setTitle:a,submitSlotInfo:()=>{const E=G(s,l);if(E.isValid){y(s,l),n("");return}const S=d.current,T=f.current,{focusElementName:j}=E;j==="title"&&(S==null||S.select()),j==="query"&&(T==null||T.select()),c(j),n(E.errorMessage)},titleRef:d,queryRef:f}},$=C.form`
  display: flex;
  flex-direction: column;
  row-gap: 12px;

  width: 600px;
  max-width: 100%;
  height: 320px;
`,I=C.label`
  display: flex;
  flex-direction: column;
  row-gap: 6px;
`,B=C.div`
  display: flex;
  flex-direction: column;
  row-gap: 5px;
`,V=o=>{const{title:t,query:i,open:y,onClose:s,onSlotChange:a}=o,{title:l,query:u,errorMessage:g,isTitleElementHasErrors:n,isQueryElementHasErrors:m,setQuery:c,setTitle:d,submitSlotInfo:f,titleRef:M,queryRef:q}=k({initTitle:t,initQuery:i,onSlotChange:a});return e.jsxs(L,{title:"추첨 수정",open:y,onClose:s,children:[e.jsxs($,{children:[e.jsxs(I,{children:[e.jsx(x,{type:"primary",fontSize:16,children:"추첨 이름"}),e.jsx(z,{type:"text",width:"100%",height:"30px",name:"title",value:l,ref:M,textAlign:"left",maxLength:30,placeholder:"0 ~ 30자",hasError:n,"aria-label":"새로운 추첨 이름을 입력해주세요",onChange:p=>{d(p.target.value)}})]}),e.jsxs(I,{children:[e.jsx(x,{type:"primary",fontSize:16,children:"쿼리"}),e.jsx(H,{width:"100%",height:"150px",name:"query",value:u,ref:q,maxLength:h,placeholder:`1 ~ ${h}자`,hasError:m,ariaLabel:"새로운 쿼리를 입력해주세요",onChange:p=>{c(p.target.value)}})]}),e.jsxs(B,{children:[e.jsxs(x,{type:"normal",fontSize:14,children:["solved.ac 검색 쿼리 작성법을 모르신다면,"," ",e.jsx(R,{href:"https://solved.ac/search",fontSize:14,children:"solved.ac 문제 고급 검색"})," ","페이지를 확인해 보세요!"]}),e.jsx(x,{type:"normal",fontSize:14,children:"추첨은 비로그인 상태에서 진행되므로, 서포터 전용 쿼리는 사용할 수 없음에 유의해 주세요."})]}),e.jsx(Q,{fontSize:14,errorMessage:g})]}),e.jsxs(N,{children:[e.jsx(_,{type:"button",name:"취소",size:"medium",iconSrc:e.jsx(w,{}),color:v.color.LIGHT_GRAY,disabled:!1,onClick:s}),e.jsx(_,{type:"button",name:"확인",size:"medium",iconSrc:e.jsx(A,{}),color:v.color.GOLD,disabled:!1,onClick:f})]})]})};try{V.displayName="SlotEditModal",V.__docgenInfo={description:"",displayName:"SlotEditModal",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"string"}},open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onSlotChange:{defaultValue:null,description:"",name:"onSlotChange",required:!0,type:{name:"(title: string, query: string) => void"}}}}}catch{}export{V as S};
