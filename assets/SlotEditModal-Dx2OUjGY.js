import{j as e}from"./jsx-runtime-DEdD30eg.js";import{t as q}from"./theme-C4yZJZ7X.js";import{M as I,a as L}from"./Modal-D8EuTlZI.js";import{I as b}from"./IconButton-D0rtTRsA.js";import{T as C}from"./Text-DG2UbxfS.js";import{T as R}from"./Textarea-Bp2AThqy.js";import{I as w}from"./Input-_gr1WRmd.js";import{E as H}from"./ErrorText-CAj_MRej.js";import{r}from"./index-RYns6xqu.js";import{S as N}from"./close-circle-Z95a0wyf.js";import{S as Q}from"./check-circle-c0jdaR34.js";import{d as M}from"./styled-components.browser.esm-CkAH7aAm.js";const V=(o,t)=>o.length>30?{isValid:!1,errorMessage:"추첨 이름의 길이가 너무 길어요. 30자 이하가 되도록 줄여 주세요.",focusElementName:"title"}:t.trim()===""?{isValid:!1,errorMessage:"쿼리는 비워둘 수 없어요. 쿼리를 입력해 주세요.",focusElementName:"query"}:t.length>300?{isValid:!1,errorMessage:"쿼리의 길이가 너무 길어요. 300자 이하가 되도록 줄여 주세요.",focusElementName:"query"}:{isValid:!0},z=o=>{const{initTitle:t,initQuery:i,onSlotChange:g}=o,[s,l]=r.useState(t),[n,u]=r.useState(i),[x,a]=r.useState(""),[m,c]=r.useState(void 0),d=r.useRef(null),p=r.useRef(null);return r.useEffect(()=>{l(t),u(i),a(""),c(void 0)},[t,i]),{title:s,query:n,errorMessage:x,isTitleElementHasErrors:m==="title",isQueryElementHasErrors:m==="query",setQuery:u,setTitle:l,submitSlotInfo:()=>{const y=V(s,n);if(y.isValid){g(s,n),a("");return}const h=d.current,E=p.current,{focusElementName:S}=y;S==="title"&&(h==null||h.select()),S==="query"&&(E==null||E.select()),c(S),a(y.errorMessage)},titleRef:d,queryRef:p}},k=M.form`
  display: flex;
  flex-direction: column;
  row-gap: 12px;

  width: 600px;
  max-width: 100%;
  height: 270px;
`,v=M.label`
  display: flex;
  flex-direction: column;
  row-gap: 6px;
`,A=o=>{const{title:t,query:i,open:g,onClose:s,onSlotChange:l}=o,{title:n,query:u,errorMessage:x,isTitleElementHasErrors:a,isQueryElementHasErrors:m,setQuery:c,setTitle:d,submitSlotInfo:p,titleRef:T,queryRef:j}=z({initTitle:t,initQuery:i,onSlotChange:l});return e.jsxs(I,{title:"추첨 수정",open:g,onClose:s,children:[e.jsxs(k,{children:[e.jsxs(v,{children:[e.jsx(C,{type:"primary",fontSize:"16px",children:"추첨 이름"}),e.jsx(w,{type:"text",width:"100%",name:"title",value:n,ref:T,textAlign:"left",maxLength:30,placeholder:"0 ~ 30자",hasError:a,ariaLabel:"새로운 추첨 이름을 입력해주세요",onChange:f=>{d(f.target.value)}})]}),e.jsxs(v,{children:[e.jsx(C,{type:"primary",fontSize:"16px",children:"쿼리"}),e.jsx(R,{width:"100%",height:"150px",name:"query",value:u,ref:j,maxLength:300,placeholder:"1 ~ 300자",hasError:m,ariaLabel:"새로운 쿼리를 입력해주세요",onChange:f=>{c(f.target.value)}})]}),e.jsx(H,{fontSize:"14px",errorMessage:x})]}),e.jsxs(L,{children:[e.jsx(b,{type:"button",name:"취소",size:"medium",iconSrc:e.jsx(N,{}),color:q.color.LIGHT_GRAY,disabled:!1,ariaLabel:"취소",onClick:s}),e.jsx(b,{type:"button",name:"확인",size:"medium",iconSrc:e.jsx(Q,{}),color:q.color.GOLD,disabled:!1,ariaLabel:"확인",onClick:p})]})]})};A.__docgenInfo={description:"",methods:[],displayName:"SlotEditModal",props:{title:{required:!0,tsType:{name:"string"},description:""},query:{required:!0,tsType:{name:"string"},description:""},open:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSlotChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(title: string, query: string) => void",signature:{arguments:[{type:{name:"string"},name:"title"},{type:{name:"string"},name:"query"}],return:{name:"void"}}},description:""}}};export{A as S};
