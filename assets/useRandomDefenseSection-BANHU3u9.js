import{r as o}from"./index-RYns6xqu.js";import{S as u}from"./commands-CaAsnwPl.js";import{s as m}from"./quickSlotsSanitizer-B9fs1MQD.js";import{i as y}from"./quickSlotsValidator-CSlQ7P7m.js";const d=async()=>{const s=(await browser.storage.local.get(u.QUICK_SLOTS))[u.QUICK_SLOTS];return m(s)},E=(e,s,t)=>{const a={selectedSlotNo:e,slots:s,hotkey:t};if(!y(a))return;const i=m(a);browser.storage.local.set({[u.QUICK_SLOTS]:i})},f={1:{isEmpty:!0},2:{isEmpty:!0},3:{isEmpty:!0},4:{isEmpty:!0},5:{isEmpty:!0},6:{isEmpty:!0},7:{isEmpty:!0},8:{isEmpty:!0},9:{isEmpty:!0},0:{isEmpty:!0}},z=()=>{const[e,s]=o.useState(f),[t,a]=o.useState(1),[i,S]=o.useState("Alt"),[n,p]=o.useState(!1);return o.useEffect(()=>{(async()=>{const{slots:r,selectedSlotNo:c,hotkey:l}=await d();s(r),a(c),S(l),p(!0)})()},[]),o.useEffect(()=>{n&&E(t,e,i)},[t,e,i]),{slots:e,selectedSlotNo:t,hotkey:i,isLoaded:n,setSelectedSlotNo:a,setHotkey:S,updateSlot:(r,c)=>{s(l=>({...l,[t]:{isEmpty:!1,title:r,query:c}}))},deleteSlot:()=>{s(r=>({...r,[t]:{isEmpty:!0}}))}}};export{z as u};
